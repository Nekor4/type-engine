var te=function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.colliderType=t}return t.prototype.onCollision=function(t){},t.prototype.update=function(){},t}();e.Collider=o;!function(t){t[t.Rect=0]="Rect",t[t.Circle=1]="Circle"}(e.ColliderType||(e.ColliderType={}))},function(t,e,i){"use strict";function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(3)),o(i(14)),o(i(2))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.duplicate=function(){return new t(this.x,this.y)},t.add=function(e,i){return new t(e.x+i.x,e.y+i.y)},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.dotProduct=function(t,e){return t.x*e.x+t.y*e.y},t.subtract=function(e,i){return new t(e.x-i.x,e.y-i.y)},t.prototype.subtract=function(t){"number"==typeof t?(this.x-=t,this.y-=t):(this.x-=t.x,this.y-=t.y)},t.prototype.multiply=function(t){this.x*=t,this.y*=t},t.getDistance=function(t,e){var i=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);return i=Math.sqrt(i)},t.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.magSq=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(t){void 0===t&&(t=1);var e=Math.sqrt(this.x*this.x+this.y*this.y);return this.x/=e,this.y/=e,this},t.prototype.get=function(){return{x:this.x,y:this.y}},t.prototype.set=function(t,e){this.x=t,this.y=e},t}();e.Vector2=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),n=function(){function t(t,e){void 0===t&&(t=1280),void 0===e&&(e=720),this.inGameObjects=[],this.isPauzed=!0,this.createCanvas(t,e),console.log("Engine created!")}return t.prototype.createCanvas=function(e,i){this._canvas=document.createElement("canvas"),this._canvas.width=1280,this._canvas.height=720,this._canvas.style.border="1px solid",t.ctx=this._canvas.getContext("2d")},t.prototype.add=function(t){this.inGameObjects.push(t)},t.prototype.start=function(){console.log("Game starts!"),this.isPauzed=!1,this.startObjects(),this.gameLoop()},t.prototype.pauze=function(){console.log("Game paused!"),this.isPauzed=!0},Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),t.prototype.startObjects=function(){for(var t=0;t<this.inGameObjects.length;t++)this.inGameObjects[t]&&this.inGameObjects[t].componentsStart()},t.prototype.gameLoop=function(){var e=this;if(!this.isPauzed){requestAnimationFrame(function(){e.gameLoop()}),t.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),o.Collision.DetectCollistion(this.inGameObjects);for(var i=0;i<this.inGameObjects.length;i++)this.inGameObjects[i]&&this.inGameObjects[i].componentsUpdateLoop()}},t}();e.Engine=n},function(t,e,i){"use strict";function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(9)),o(i(0)),o(i(10)),o(i(11))},function(t,e,i){"use strict";function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(12)),o(i(13))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t}();e.Renderer=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=function(){function t(){this.type=r.Dynamic,this.collisionSolution=s.Displace,this.velocity=new o.Vector2,this.linearDrag=.5,this.mass=1,this.gravity=1}return t.prototype.update=function(){this.gameObject.position.add(this.velocity),this.velocity.y+=this.gravity},t.prototype.resolveRectToRectStaticCollision=function(t){var e=this.gameObject.collider,i=e.midX,o=e.midY,n=t.midX,r=t.midY,s=(n-i)/t.halfWidth,c=(r-o)/t.halfHeight;console.log(s,c);var a=Math.abs(s),u=Math.abs(c);Math.abs(a-u)<.1?(e.gameObject.position.x=s<0?t.rightX:t.leftX-e.dimension.x,e.gameObject.position.y=c<0?t.bottomY:t.topY-e.dimension.y,Math.random()<.5?(this.velocity.x=-this.velocity.x*t.restitution,Math.abs(this.velocity.x)<4e-4&&(this.velocity.x=0)):(this.velocity.y=-this.velocity.y*t.restitution,Math.abs(this.velocity.y)<4e-4&&(this.velocity.y=0))):a>u?(e.gameObject.position.x=s<0?t.rightX:t.leftX-e.dimension.x,this.velocity.x=-this.velocity.x*t.restitution,Math.abs(this.velocity.x)<4e-4&&(this.velocity.x=0)):(e.gameObject.position.y=c<0?t.bottomY:t.topY-e.dimension.y,this.velocity.y=-this.velocity.y*t.restitution,Math.abs(this.velocity.y)<4e-4&&(this.velocity.y=0))},t}();e.Body=n;var r;!function(t){t[t.Kinematic=0]="Kinematic",t[t.Dynamic=1]="Dynamic"}(r||(r={}));var s;!function(t){t[t.Displace=0]="Displace",t[t.Elastic=1]="Elastic"}(s||(s={}))},function(t,e,i){"use strict";function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(1)),o(i(5)),o(i(15)),o(i(17)),o(i(4)),o(i(20))},function(t,e,i){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=function(t){function e(e){void 0===e&&(e=5);var i=t.call(this,n.ColliderType.Circle)||this;return i.radius=e,i}return o(e,t),e}(n.Collider);e.CircleCollider=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),n=i(1),r=function(){function t(){}return t.DetectCollistion=function(t){for(var e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++){var o=t[e].collider,n=t[i].collider;o&&n&&this.CollisionTest(o,n)&&(o.onCollision(n),n.onCollision(o))}},t.CollisionTest=function(t,e){var i=!1;switch(t.colliderType){case o.ColliderType.Circle:i=this.CircleCollisionTest(t,e);break;case o.ColliderType.Rect:i=this.RectCollisionTest(t,e)}return i},t.CircleCollisionTest=function(t,e){var i=!1;switch(e.colliderType){case o.ColliderType.Circle:i=this.CircleCircle(t,e);break;case o.ColliderType.Rect:}return i},t.RectCollisionTest=function(t,e){var i=!1;switch(e.colliderType){case o.ColliderType.Rect:i=this.RectangleRectangle(t,e)}return i},t.CircleCircle=function(t,e){return!!(t.gameObject.position&&e.gameObject.position&&n.Vector2.getDistance(t.gameObject.position,e.gameObject.position)<=t.radius+e.radius)},t.RectangleRectangle=function(t,e){var i=!1,o=!1;return t.gameObject.position.x<=e.gameObject.position.x?t.gameObject.position.x+t.dimension.x>=e.gameObject.position.x&&(i=!0):e.gameObject.position.x+e.dimension.x>=t.gameObject.position.x&&(i=!0),t.gameObject.position.y<=e.gameObject.position.y?t.gameObject.position.y+t.dimension.y>=e.gameObject.position.y&&(o=!0):e.gameObject.position.y+e.dimension.y>=t.gameObject.position.y&&(o=!0),!0===i&&!0===o},t}();e.Collision=r},function(t,e,i){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(0),s=i(5),c=function(t){function e(){var e=t.call(this,r.ColliderType.Rect)||this;return e.restitution=0,e}return o(e,t),e.prototype.awake=function(){if(this.gameObject.renderer instanceof s.SpriteRenderer){var t=this.gameObject.renderer;this.dimension=new n.Vector2(t.sprite.img.width,t.sprite.img.height)}},e.prototype.onCollision=function(t){t instanceof e&&this.gameObject.body&&this.gameObject.body.resolveRectToRectStaticCollision(t)},Object.defineProperty(e.prototype,"dimension",{get:function(){return this._dimension},set:function(t){this._dimension=t,this.halfWidth=.5*t.x,this.halfHeight=.5*t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midX",{get:function(){return this.halfWidth+this.gameObject.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midY",{get:function(){return this.halfHeight+this.gameObject.position.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightX",{get:function(){return this.gameObject.position.x+this.dimension.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftX",{get:function(){return this.gameObject.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topY",{get:function(){return this.gameObject.position.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomY",{get:function(){return this.gameObject.position.y+this.dimension.y},enumerable:!0,configurable:!0}),e}(r.Collider);e.RectCollider=c},function(t,e,i){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i(6),s=function(t){function e(e){var i=t.call(this)||this;return i.sprite=e,i}return o(e,t),e.prototype.update=function(){this.sprite.isLoaded&&(n.Engine.ctx.save(),n.Engine.ctx.drawImage(this.sprite.img,this.gameObject.position.x,this.gameObject.position.y),n.Engine.ctx.stroke(),n.Engine.ctx.restore())},e}(r.Renderer);e.SpriteRenderer=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.gridHeight=32,this.girdWidth=32}return t}();e.TileMapRenderer=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),n=i(0),r=i(7),s=i(6),c=function(){function t(){this.position=new o.Vector2,this.components=[]}return t.prototype.addComponent=function(t){return t.gameObject=this,t.awake&&t.awake(),this.components.push(t),t.start&&t.start(),t instanceof n.Collider&&(this._collider=t),t instanceof r.Body&&(this._body=t),t instanceof s.Renderer&&(this._renderer=t),t},t.prototype.getComponent=function(t){for(var e=null,i=0,o=this.components;i<o.length;i++){var n=o[i];n instanceof t&&(e=n)}return e},t.prototype.getComponents=function(t){for(var e=[],i=0,o=this.components;i<o.length;i++){var n=o[i];n instanceof t&&e.push(n)}return e},t.prototype.componentsStart=function(){for(var t=0;t<this.components.length;t++){var e=this.components[t];e.start&&e.start()}},t.prototype.componentsUpdateLoop=function(){for(var t=0;t<this.components.length;t++){var e=this.components[t];e.update&&e.update()}},Object.defineProperty(t.prototype,"collider",{get:function(){return this._collider},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),t}();e.GameObject=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(16))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.update=function(){},t}();e.WorldGenerator=o},function(t,e,i){"use strict";function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(18)),o(i(19))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.isLoaded=!1,this.img=new Image,this.img.src=t,this.img.onload=function(){e.isLoaded=!0}}return t}();e.Sprite=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t}();e.Tile=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(7))}]);
//# sourceMappingURL=type-engine.min.map